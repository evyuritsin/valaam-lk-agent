{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport File from '@/components/File.vue';\nimport Photo from '@/components/Photo.vue';\nimport Day from '@/components/Day.vue';\nexport default {\n  data: () => ({\n    descriptionsFiles: [{\n      id: 1,\n      name: 'Программа2022-08.pdf'\n    }, {\n      id: 2,\n      name: 'Правила поведения монастыре.doc'\n    }],\n    photos: [{\n      id: 1\n    }, {\n      id: 2\n    }],\n    programDays: [{\n      id: 1\n    }]\n  }),\n  components: {\n    File,\n    Day,\n    Photo\n  },\n  methods: {\n    addPhoto() {\n      this.photos.push({\n        id: Date.now()\n      });\n    },\n    deletePhoto(photoId) {\n      this.photos = this.photos.filter(photo => photo.id !== photoId);\n    },\n    movePhotoDown(index) {\n      if (index === this.photos.length - 1) return;\n      function moveElement(arr, from, to) {\n        arr.splice(to, 0, arr.splice(from, 1)[0]);\n        return arr;\n      }\n      this.photos = moveElement(this.photos, index, index + 1);\n    },\n    movePhotoUp(index) {\n      if (index === 0) return;\n      const nextElement = this.photos[index - 1];\n      this.photos[index - 1] = this.photos[index];\n      this.photos[index] = nextElement;\n    },\n    addProgramDay() {\n      this.programDays.push({\n        id: Date.now()\n      });\n    },\n    deleteDay(dayId) {\n      this.programDays = this.programDays.filter(day => day.id !== dayId);\n    },\n    clickToInputFile() {\n      this.$refs.inputFile.click();\n    },\n    previewFile() {\n      this.descriptionsFiles.push({\n        name: this.$refs.inputFile.files[0].name,\n        id: Date.now()\n      });\n    },\n    deleteFile(fileId) {\n      this.descriptionsFiles = this.descriptionsFiles.filter(file => file.id !== fileId);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["File","Photo","Day","data","descriptionsFiles","id","name","photos","programDays","components","methods","addPhoto","push","Date","now","deletePhoto","photoId","filter","photo","movePhotoDown","index","length","moveElement","arr","from","to","splice","movePhotoUp","nextElement","addProgramDay","deleteDay","dayId","day","clickToInputFile","$refs","inputFile","click","previewFile","files","deleteFile","fileId","file"],"sourceRoot":"","sources":["C:\\all-projects\\t-fabric\\valaam-lk-agent\\src\\views\\Programs\\DescriptionView.vue"],"sourcesContent":["<template>\r\n\t<div class=\"page-wrapper\">\r\n\t\t<div class=\"container-xl\">\r\n\t\t\t<div class=\"card\">\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<h2>Программы - Описание</h2>\r\n\t\t\t\t\t<div class=\"row align-items-center mb-3\">\r\n\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Название программы</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"text\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col-2 offset-2 d-flex align-items-center gap-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">дней</label>\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"text\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-2 ms-auto d-flex align-items-center gap-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">для группы</label>\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"text\" />\r\n\t\t\t\t\t\t\t<label class=\"form-label\">-</label>\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"text\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col-auto offset-2\">\r\n\t\t\t\t\t\t\t<div class=\"form-check\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"form-check-input\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tid=\"popularBlock\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label class=\"form-check-label\" for=\"popularBlock\"\r\n\t\t\t\t\t\t\t\t\t>Выводить в блоке популярных</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-2\">\r\n\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Анонс</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"7\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col-auto offset-2\">\r\n\t\t\t\t\t\t\t<span>(250 знаков)</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Описание</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"7\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-5\">\r\n\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Файлы с описанием</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"clickToInputFile\">\r\n\t\t\t\t\t\t\t\tЗагрузить\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\tid=\"file\"\r\n\t\t\t\t\t\t\t\tref=\"inputFile\"\r\n\t\t\t\t\t\t\t\tclass=\"d-none\"\r\n\t\t\t\t\t\t\t\t@change=\"previewFile\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-auto d-flex flex-column gap-2\">\r\n\t\t\t\t\t\t\t<File\r\n\t\t\t\t\t\t\t\tv-for=\"file in descriptionsFiles\"\r\n\t\t\t\t\t\t\t\t:key=\"file.id\"\r\n\t\t\t\t\t\t\t\t:file=\"file\"\r\n\t\t\t\t\t\t\t\t:deleteFile=\"deleteFile\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-2\">\r\n\t\t\t\t\t\t<div class=\"col-2\">\r\n\t\t\t\t\t\t\t<h3>Фотогалерея</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<Photo\r\n\t\t\t\t\t\t\t\tv-for=\"photo in photos\"\r\n\t\t\t\t\t\t\t\t:key=\"photo.id\"\r\n\t\t\t\t\t\t\t\t:photo=\"photo\"\r\n\t\t\t\t\t\t\t\t:deletePhoto=\"deletePhoto\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-auto offset-2\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"addPhoto\">\r\n\t\t\t\t\t\t\t\tДобавить фото\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3>Программа</h3>\r\n\t\t\t\t\t<Day v-for=\"day in programDays\" :key=\"day.id\" />\r\n\t\t\t\t\t<div class=\"row mb-5\">\r\n\t\t\t\t\t\t<div class=\"col-auto offset-2\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-primary\">Добавить день</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col offset-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Примечание</label>\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"7\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col offset-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Льготы</label>\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"3\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col offset-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">В стоимость входит</label>\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"3\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col offset-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Дополнительно оплачивается</label>\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"3\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-3\">\r\n\t\t\t\t\t\t<div class=\"col offset-2\">\r\n\t\t\t\t\t\t\t<label class=\"form-label\">Описание для ваучера</label>\r\n\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"3\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-2\">\r\n\t\t\t\t\t\t<div class=\"col offset-2\">\r\n\t\t\t\t\t\t\t<h3>Карта маршрута</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<h3>Код для вставки карты</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row mb-4\">\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"col offset-2 d-flex align-items-end gap-3\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc=\"../../assets/img/photo.svg\"\r\n\t\t\t\t\t\t\t\t\talt=\"Image\"\r\n\t\t\t\t\t\t\t\t\tclass=\"h-100\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex flex-column w-100\">\r\n\t\t\t\t\t\t\t\t\t<label for=\"desciptionInput\" class=\"form-label\"\r\n\t\t\t\t\t\t\t\t\t\t>Описание</label\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"desciptionInput\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<label for=\"altInput\" class=\"form-label\">ALT</label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"email\" class=\"form-control\" id=\"altInput\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<textarea class=\"form-control resize-none\" rows=\"6\"></textarea>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-auto offset-2\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-primary\">Сохранить</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport File from '@/components/File.vue'\r\nimport Photo from '@/components/Photo.vue'\r\nimport Day from '@/components/Day.vue'\r\nexport default {\r\n\tdata: () => ({\r\n\t\tdescriptionsFiles: [\r\n\t\t\t{ id: 1, name: 'Программа2022-08.pdf' },\r\n\t\t\t{ id: 2, name: 'Правила поведения монастыре.doc' },\r\n\t\t],\r\n\t\tphotos: [{ id: 1 }, { id: 2 }],\r\n\t\tprogramDays: [{ id: 1 }],\r\n\t}),\r\n\tcomponents: {\r\n\t\tFile,\r\n\t\tDay,\r\n\t\tPhoto,\r\n\t},\r\n\tmethods: {\r\n\t\taddPhoto() {\r\n\t\t\tthis.photos.push({ id: Date.now() })\r\n\t\t},\r\n\t\tdeletePhoto(photoId) {\r\n\t\t\tthis.photos = this.photos.filter(photo => photo.id !== photoId)\r\n\t\t},\r\n\t\tmovePhotoDown(index) {\r\n\t\t\tif (index === this.photos.length - 1) return\r\n\t\t\tfunction moveElement(arr, from, to) {\r\n\t\t\t\tarr.splice(to, 0, arr.splice(from, 1)[0])\r\n\t\t\t\treturn arr\r\n\t\t\t}\r\n\t\t\tthis.photos = moveElement(this.photos, index, index + 1)\r\n\t\t},\r\n\t\tmovePhotoUp(index) {\r\n\t\t\tif (index === 0) return\r\n\t\t\tconst nextElement = this.photos[index - 1]\r\n\t\t\tthis.photos[index - 1] = this.photos[index]\r\n\t\t\tthis.photos[index] = nextElement\r\n\t\t},\r\n\t\taddProgramDay() {\r\n\t\t\tthis.programDays.push({ id: Date.now() })\r\n\t\t},\r\n\t\tdeleteDay(dayId) {\r\n\t\t\tthis.programDays = this.programDays.filter(day => day.id !== dayId)\r\n\t\t},\r\n\t\tclickToInputFile() {\r\n\t\t\tthis.$refs.inputFile.click()\r\n\t\t},\r\n\t\tpreviewFile() {\r\n\t\t\tthis.descriptionsFiles.push({\r\n\t\t\t\tname: this.$refs.inputFile.files[0].name,\r\n\t\t\t\tid: Date.now(),\r\n\t\t\t})\r\n\t\t},\r\n\t\tdeleteFile(fileId) {\r\n\t\t\tthis.descriptionsFiles = this.descriptionsFiles.filter(\r\n\t\t\t\tfile => file.id !== fileId\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style>\r\n.resize-none {\r\n\tresize: none;\r\n}\r\n\r\n.delete-btn {\r\n\twidth: 40px;\r\n\theight: 40px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}